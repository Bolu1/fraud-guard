fraud-guard/
│
├── models/                                 # Pre-trained models (shipped with package)
│   └── baseline/
│       ├── model.json                     # TensorFlow.js model architecture (6 KB)
│       ├── group1-shard1of1.bin           # Model weights (75 KB)
│       ├── fraud_detection_model.h5       # Keras model for retraining (287 KB)
│       ├── scaler_params.json             # Feature normalization parameters (1.3 KB)
│       └── model_config.json              # Model metadata (596 bytes)
│
├── training/                               # Python retraining scripts
│   ├── incremental_retrain.py             # Fine-tune model on user feedback
│   ├── convert_model.py                   # Convert Keras → TensorFlow.js
│   ├── requirements.txt                   # Python dependencies
│   └── README.md                          # Retraining guide
│
├── src/                                    # TypeScript source code
│   │
│   ├── index.ts                           # Main package exports
│   │
│   ├── core/                              # Core fraud detection logic
│   │   └── fraud-guard.ts                 # Main FraudGuard class
│   │
│   ├── interfaces/                        # TypeScript interfaces & types
│   │   ├── fraud-guard.interface.ts       # IFraudGuard interface
│   │   └── types.ts                       # All type definitions
│   │
│   ├── model/                             # Model management
│   │   ├── manager.ts                     # Model lifecycle management
│   │   ├── inference.ts                   # TensorFlow.js inference engine
│   │   ├── feature-extractor.ts           # Feature engineering & extraction
│   │   └── metadata.ts                    # Model metadata loader
│   │
│   ├── config/                            # Configuration management
│   │   ├── loader.ts                      # Load YAML config
│   │   ├── defaults.ts                    # Default configuration
│   │   └── validator.ts                   # Validate configuration
│   │
│   ├── storage/                           # Database management (Phase 2)
│   │   ├── manager.ts                     # SQLite management
│   │   ├── schema.ts                      # Database schema
│   │   └── migrations.ts                  # Schema migrations
│   │
│   └── utils/                             # Utility functions
│       ├── logger.ts                      # Logging utility
│       ├── errors.ts                      # Custom error classes
│       ├── paths.ts                       # Path resolution (project-scoped)
│       ├── validation.ts                  # Input validation
│       ├── time-features.ts               # Extract hour, day, month from timestamp
│       └── category-mapper.ts             # Category mapping helpers
│
├── dist/                                   # Compiled JavaScript (generated by build)
│   ├── index.js
│   ├── index.d.ts
│   ├── core/
│   ├── interfaces/
│   ├── model/
│   ├── config/
│   ├── storage/
│   └── utils/
│
├── examples/                               # Usage examples
│   ├── basic-usage.js                     # Simple prediction example
│   ├── with-feedback.js                   # Feedback workflow example
│   ├── category-mapping.js                # Category mapping examples
│   └── express-integration.js             # Express.js middleware example
│
├── tests/                                  # Test files
│   ├── unit/
│   │   ├── model.test.ts                  # Model tests
│   │   ├── feature-extractor.test.ts      # Feature extraction tests
│   │   ├── time-features.test.ts          # Time feature tests
│   │   └── category-mapper.test.ts        # Category mapping tests
│   └── integration/
│       └── fraud-guard.test.ts            # Full integration tests
│
├── docs/                                   # Documentation
│   ├── API.md                             # Complete API reference
│   ├── CATEGORY_MAPPING.md                # Category mapping guide
│   ├── RETRAINING.md                      # How to retrain the model
│   ├── CONFIGURATION.md                   # Configuration guide
│   └── TROUBLESHOOTING.md                 # Common issues & solutions
│
├── .github/                                # GitHub configuration
│   └── workflows/
│       ├── test.yml                       # Run tests on PR
│       └── publish.yml                    # Publish to npm
│
├── package.json                            # npm package configuration
├── package-lock.json                       # Dependency lock file
├── tsconfig.json                           # TypeScript configuration
├── jest.config.js                          # Jest test configuration
├── .eslintrc.js                            # ESLint configuration
├── .prettierrc                             # Prettier configuration
├── .gitignore                              # Git ignore rules
├── .npmignore                              # npm ignore rules
├── README.md                               # Main documentation
├── LICENSE                                 # MIT License
└── CHANGELOG.md                            # Version history


---

~/.fraud-guard/
│
├── baseline/                               # Shared baseline model (copied from package)
│   ├── model.json                          # TensorFlow.js model
│   ├── group1-shard1of1.bin                # Model weights
│   ├── fraud_detection_model.h5            # Keras model
│   ├── scaler_params.json                  # Scaler parameters
│   └── model_config.json                   # Model metadata
│
└── projects/                               # Project-specific storage
    │
    ├── my-ecommerce-store/                 # Project 1 (from config: project.name)
    │   ├── data/
    │   │   └── fraud-data.db               # SQLite database
    │   │       # Tables:
    │   │       # - predictions (includes actual_fraud for feedback)
    │   │       # - model_versions
    │   │       # - metadata
    │   │
    │   └── models/                         # Retrained models for this project
    │       ├── retrained-v1.0.1/
    │       │   ├── model.json
    │       │   ├── group1-shard1of1.bin
    │       │   └── metadata.json
    │       │
    │       ├── retrained-v1.0.2/
    │       │   ├── model.json
    │       │   ├── group1-shard1of1.bin
    │       │   └── metadata.json
    │       │
    │       └── current -> retrained-v1.0.2  # Symlink to active model
    │
    ├── staging-checkout/                    # Project 2
    │   ├── data/
    │   │   └── fraud-data.db
    │   └── models/
    │       ├── retrained-v1.0.1/
    │       └── current -> retrained-v1.0.1
    │
    └── production-billing/                  # Project 3
        ├── data/
        │   └── fraud-data.db
        └── models/
            └── (uses baseline - no retraining yet)


---


-- predictions table (stores all predictions and feedback)
CREATE TABLE predictions (
  -- Identification
  id TEXT PRIMARY KEY,                      -- check_abc123xyz456
  transaction_id TEXT,                      -- User's transaction ID (optional)
  
  -- Timestamp
  created_at DATETIME NOT NULL,             -- When prediction was made
  
  -- Input features (stored for retraining)
  amount REAL NOT NULL,
  hour INTEGER NOT NULL,
  month INTEGER NOT NULL,
  dayofweek INTEGER NOT NULL,
  day INTEGER NOT NULL,
  category TEXT NOT NULL,
  
  -- Prediction results
  score REAL NOT NULL,                      -- 0.65 (fraud probability)
  risk_level TEXT NOT NULL,                 -- 'low', 'medium', 'high'
  action TEXT NOT NULL,                     -- 'accept', 'review', 'reject'
  model_version TEXT NOT NULL,              -- 'v1.0.0', 'v1.0.1', etc.
  
  -- Ground truth from user feedback (NULL until provided)
  actual_fraud INTEGER,                     -- NULL, 0, or 1
  feedback_provided BOOLEAN DEFAULT 0,      -- Has user provided feedback?
  feedback_at DATETIME,                     -- When feedback was provided
  feedback_notes TEXT,                      -- Optional